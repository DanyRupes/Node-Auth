(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(79)},49:function(e,t,a){},52:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),o=a.n(c),l=(a(49),a(50),a(3)),i=a.n(l),s=a(7),u=a(8),m=a(9),h=a(12),d=a(11),p=a(22),f=a(13),v=(a(52),a(20)),b=a(14),g=a(39),E=a(18),k=a.n(E),y=function(){function e(){var t=this;Object(u.a)(this,e),this.auth0=new g.a.WebAuth({domain:"dev-dany.auth0.com",clientID:"r6eieYMTz3CZQ6NTZjIO89cU0fAx7TIb",redirectUri:"http://localhost:8080/#",audience:"https://dev-dany.auth0.com/api/v2/",responseType:"token id_token",scope:"openid profile email"}),this.login=function(){t.auth0.authorize()},this.handleAuthentication=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.auth0.parseHash(function(){var e=Object(s.a)(i.a.mark(function e(a,n){var r,c,o,l,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n.accessToken,c=n.idToken,o=n.idTokenPayload,l=o.email,o.picture,o.name,console.log(n),!(n&&r&&c)){e.next=12;break}return e.next=7,k.a.post("/login",{idToken:c,email:l},{headers:{Authorization:"Bearer ".concat(r)}});case 7:(s=e.sent)&&(console.log("user created"),"SIGNEDUP"==s.data.msg&&alert("User Created")),t.setSession(n),e.next=13;break;case 12:a&&console.log(a);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),window.location.href="/";case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t,a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e)})),this.setSession=function(e){var t=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem("access_token",e.accessToken),localStorage.setItem("id_token",e.idToken),localStorage.setItem("expires_at",t),localStorage.setItem("name",e.idTokenPayload.nickname),localStorage.setItem("avatar",e.idTokenPayload.picture)},this.logout=function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),localStorage.removeItem("name"),localStorage.removeItem("avatar")},this.isAuthenticated=Object(s.a)(i.a.mark(function e(){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("expires_at")),(new Date).getTime()<a,e.prev=2,e.t0=k.a,e.next=6,t.headers();case 6:return e.t1=e.sent,e.t2={headers:e.t1},e.next=10,e.t0.get.call(e.t0,"/auth",e.t2);case 10:if(!(n=e.sent).data){e.next=14;break}return console.log(n.data),e.abrupt("return",!0);case 14:e.next=20;break;case 16:return e.prev=16,e.t3=e.catch(2),console.log("Errr",e.t3),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,null,[[2,16]])})),this.headers=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,t.getAccessToken();case 3:return e.t1=e.sent,e.t2=e.t0.concat.call(e.t0,e.t1),e.abrupt("return",{"Content-Type":"application/json",Accept:"application/json",Authorization:e.t2});case 6:case"end":return e.stop()}},e)}))}return Object(m.a)(e,[{key:"getAccessToken",value:function(){var e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return e}}]),e}(),w=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"MenuContainer",onClick:this.props.onMouseDown},r.a.createElement("h2",{style:{fontWeight:"600",fontSize:"2.rem"}},"Menu"),r.a.createElement("ul",{className:"MenuItems"},r.a.createElement("li",null,r.a.createElement(b.b,{to:"/gallary"},"Gallary")),r.a.createElement("li",null,r.a.createElement(b.b,{to:"/dashboard"},"Dashboard")),r.a.createElement("li",null,r.a.createElement(b.b,{to:"/profile"},"Clients")),r.a.createElement("li",null,r.a.createElement(b.b,{to:"/gallary"},"Feedbacks")),r.a.createElement("li",null,r.a.createElement(b.b,{to:"/gallary"},"Help"))))}}]),t}(n.Component),j=(a(75),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"menu-btn",onMouseDown:this.props.onMouseDown,style:{display:"inline-block"}},r.a.createElement("div",{class:"menu-btn-line"}),r.a.createElement("div",{class:"menu-btn-line"}),r.a.createElement("div",{class:"menu-btn-line"}))}}]),t}(n.Component)),O=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showContainer:!1},a.onMouseDown=function(){a.setState({showContainer:!a.state.showContainer})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.showContainer;return r.a.createElement("div",{className:"side-container"},r.a.createElement(j,{onMouseDown:this.onMouseDown}),e?r.a.createElement(w,{onMouseDown:this.onMouseDown}):null)}}]),t}(n.Component),x=(a(76),new y),S=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"left-cont"},r.a.createElement(O,null),r.a.createElement("h2",null,"Explorer")),r.a.createElement("div",{style:{flex:3,display:"flex",justifyContent:"space-evenly",minWidth:"35rem",padding:"1em",fontSize:"20px"}},r.a.createElement(b.b,{to:"/gallary"},"Gallary"),r.a.createElement(b.b,{to:"/dashboard"},"Dashboard"),r.a.createElement(b.b,{to:"/profile"},"Profile"),r.a.createElement(b.b,{to:"/",onClick:function(e){return x.logout()}},"Logout")))},A=a(80),C=a(81),N=a(82),I=a(83),D=a(84),T=(a(77),new y),M=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={gallary:[]},a.handleClickPic=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:alert("Share "+t.name);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=k.a,e.next=4,T.headers();case 4:return e.t1=e.sent,e.t2={headers:e.t1},e.next=8,e.t0.get.call(e.t0,"/user/Gallary",e.t2);case 8:(t=e.sent).data&&(a=t.data.details,this.setState({gallary:a}),console.log(a)),e.next=15;break;case 12:e.prev=12,e.t3=e.catch(0),this.props.history.push("/");case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("h1",null,"Gallary"),r.a.createElement("div",{className:"row"},this.state.gallary.map(function(t,a){return r.a.createElement("div",{className:"h-img-card col-12 col-sm-12 col-lg-2",key:a},r.a.createElement(A.a,null,r.a.createElement(C.a,{top:!0,height:"100%",width:"100%",src:t.url,alt:"Card image cap"}),r.a.createElement(N.a,null,r.a.createElement(I.a,null,t.name),r.a.createElement(D.a,{onClick:function(){return e.handleClickPic(t)}},"Share"))))})))}}]),t}(n.Component),_=new y,L=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={user:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=k.a,e.next=4,_.headers();case 4:return e.t1=e.sent,e.t2={headers:e.t1},e.next=8,e.t0.get.call(e.t0,"/profile",e.t2);case 8:(t=e.sent).data&&(a=t.data.details.user,this.setState({user:a}),console.log(a)),e.next=15;break;case 12:e.prev=12,e.t3=e.catch(0),this.props.history.push("/");case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("h1",null,"Profile"),r.a.createElement("h3",null,e.email||"Loading"))}}]),t}(n.Component),P=a(85),U=a(86),z=a(87),F=a(88),B=(a(78),new y),G=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:"",imageName:""},a.handleImageSelect=function(){var e=Object(s.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],a.setState({selectedFile:n,imageName:""==a.state.imageName?n.name:a.state.imageName});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=Object(s.a)(i.a.mark(function e(){var t,n,r,c,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.imageName,r=t.selectedFile,c={name:n,url:URL.createObjectURL(r)},e.prev=2,e.t0=k.a,e.t1=c,e.next=7,B.headers();case 7:return e.t2=e.sent,e.t3={headers:e.t2},e.next=11,e.t0.put.call(e.t0,"/addfile",e.t1,e.t3);case 11:o=e.sent,console.log(o.data.details),alert("Image Uploaded"),a.setState({selectedFile:"",imageName:""}),e.next=21;break;case 17:e.prev=17,e.t4=e.catch(2),alert("try again later"),console.log(e.t4);case 21:case"end":return e.stop()}},e,null,[[2,17]])})),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.imageName,n=t.selectedFile;return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("h1",null,"Dashboard"),r.a.createElement("div",{className:"dash-form-container"},r.a.createElement(P.a,null,r.a.createElement(U.a,null,r.a.createElement(U.a,null,r.a.createElement(z.a,{for:"img-name"},"Upload Image"),r.a.createElement(F.a,{type:"text",name:"name",value:a||"    ",onChange:function(t){return e.setState({imageName:t.target.value})},id:"img-name",placeholder:"Drop a Name"})),r.a.createElement(z.a,{for:"up-image"}),r.a.createElement(F.a,{type:"file",name:"file",id:"up-image",onChange:this.handleImageSelect})),r.a.createElement(D.a,{disabled:!n,onClick:this.handleSubmit},"Submit"))))}}]),t}(n.Component),W=(n.Component,function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h4",null,"Loading..."))}),J=new y,H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleAuthentication=function(e,t){/access_token|id_token|error/.test(e.location.hash)&&J.handleAuthentication()},a.handleAuthentication=a.handleAuthentication.bind(Object(p.a)(a)),a.state={auth:"",isAuthenticated:!1,isLoading:!0},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.isAuthenticated();case 2:if(!e.sent){e.next=6;break}this.setState({isAuthenticated:!0,isLoading:!1}),e.next=7;break;case 6:this.setState({isLoading:!1});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state;t.isAuthenticated;return t.isLoading?r.a.createElement(W,null):r.a.createElement(v.c,null,r.a.createElement("div",{className:"App"},r.a.createElement(v.a,{exact:!0,path:"/",render:function(t){return e.handleAuthentication(t),r.a.createElement(W,t)}}),r.a.createElement(v.a,{exact:!0,path:"/gallary",render:function(e){return r.a.createElement(M,Object.assign({isAuthenticated:!0},e))}}),r.a.createElement(v.a,{exact:!0,path:"/dashboard",component:G,isAuthenticated:!0}),r.a.createElement(v.a,{exact:!0,path:"/profile",component:L,isAuthenticated:!0})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=(0,a(17).createBrowserHistory)({basename:"/"});o.a.render(r.a.createElement(b.a,{hashType:"noslash"},r.a.createElement(H,{history:R})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.87598d8e.chunk.js.map